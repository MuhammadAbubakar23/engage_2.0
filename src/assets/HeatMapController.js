keEdApp.controller('HeatMapController', ['$scope', '$cookies', '$window', 'NgMap', '$interval', 'DashboardService', '$uibModal',
    function ($scope, $cookies, $window, NgMap, $interval, DashboardService, $uibModal) {

        $scope.googleMapsUrl = googleMap;
        var defence, clifton, korangi, landhi, northNazimabad, northKarachi, nazimabad, liaquatabab, binQasim, baldia, bahdurabad, FBArea, garden, gulshan, malir, shahFaisal, surjani, tipuSultan, saddar, gadap, uthal, orangi, jauhar, lyari, simz, vm = this;
        var j = 0;
        $scope.date = {
            startDate: moment("2017-06-01"),
            endDate: moment("2017-06-07")
        };
        $scope.AreaArray = {
            DefencePath: [
                [24.80175, 67.031975],
                [24.77802, 67.055279],
                [24.775661, 67.05234],
                [24.746189, 67.073788],
                [24.761149, 67.106656],
                [24.800733, 67.076741],
                [24.833841, 67.0738],
                [24.835418, 67.070892],
                [24.838753, 67.073292],
                [24.842983, 67.070586],
                [24.843805, 67.067793],
                [24.848734, 67.066526],
                [24.848784, 67.062159],
                [24.846492, 67.060447],
                [24.84483, 67.055718],
                [24.841506, 67.05816],
                [24.839922, 67.053802],
                [24.837105, 67.052267],
                [24.832659, 67.048452],
                [24.821594, 67.044099],
                [24.818652, 67.043531],
                [24.81644, 67.042604],
                [24.819093, 67.037699],
                [24.813486, 67.036297],
                [24.812222, 67.037442],
                [24.80188, 67.031763]
            ],
            CliftonPath: [
                [24.800677, 67.029975],
                [24.803988, 67.027679],
                [24.806325, 67.024482],
                [24.809987, 67.016671],
                [24.812461, 67.005685],
                [24.813843, 66.993926],
                [24.818966, 66.995192],
                [24.816054, 67.011618],
                [24.817383, 67.01584],
                [24.815458, 67.020418],
                [24.826492, 67.025562],
                [24.826972, 67.022502],
                [24.827997, 67.020129],
                [24.83169, 67.021447],
                [24.833022, 67.024266],
                [24.833591, 67.028894],
                [24.834187, 67.03138],
                [24.835328, 67.033136],
                [24.841061, 67.032306],
                [24.833568, 67.038769],
                [24.826023, 67.043266],
                [24.824588, 67.035312],
                [24.813529, 67.027537],
                [24.810686, 67.031236],
                [24.808778, 67.035279],
                [24.800754, 67.030233]
            ], KorangiPath: [
                [24.790533, 67.104001],
                [24.798442, 67.10988],
                [24.793903, 67.117519],
                [24.807022, 67.12623],
                [24.802829, 67.132775],
                [24.799291, 67.134524],
                [24.802431, 67.145333],
                [24.792313, 67.148334],
                [24.801046, 67.153654],
                [24.805802, 67.169404],
                [24.828785, 67.164275],
                [24.827228, 67.158084],
                [24.834161, 67.156298],
                [24.836907, 67.16976],
                [24.844413, 67.168122],
                [24.84287, 67.160995],
                [24.846713, 67.160092],
                [24.842755, 67.141874],
                [24.862212, 67.137571],
                [24.858312, 67.124069],
                [24.856946, 67.110537],
                [24.847638, 67.097355],
                [24.836362, 67.091193],
                [24.828972, 67.093133],
                [24.825361, 67.098243],
                [24.819492, 67.100691],
                [24.807039, 67.102689],
                [24.805954, 67.09871],
                [24.80099, 67.096184],
                [24.79065, 67.104043]
            ], LandhiPath: [
                [24.806826, 67.177715],
                [24.806592, 67.189088],
                [24.799541, 67.201469],
                [24.811676, 67.210664],
                [24.81416, 67.225561],
                [24.813999, 67.240434],
                [24.837016, 67.240918],
                [24.837297, 67.225418],
                [24.844059, 67.226508],
                [24.85082, 67.211978],
                [24.8622, 67.202228],
                [24.8587, 67.18199],
                [24.860239, 67.173411],
                [24.865516, 67.167236],
                [24.866121, 67.155181],
                [24.855793, 67.157479],
                [24.843035, 67.161246],
                [24.84425, 67.168065],
                [24.836951, 67.169672],
                [24.833808, 67.156227],
                [24.82729, 67.158045],
                [24.828978, 67.164404],
                [24.823005, 67.165352],
                [24.826524, 67.181963],
                [24.823881, 67.184817],
                [24.822755, 67.184142],
                [24.822698, 67.182688],
                [24.817172, 67.182132],
                [24.813204, 67.180545],
                [24.806982, 67.177888]
            ], NorthNazimabadPath: [
                [24.964112, 67.04433],
                [24.956131, 67.040891],
                [24.945348, 67.032131],
                [24.937989, 67.024487],
                [24.932324, 67.015987],
                [24.930091, 67.020149],
                [24.929025, 67.024568],
                [24.925526, 67.031541],
                [24.921617, 67.031552],
                [24.918923, 67.040998],
                [24.923971, 67.046858],
                [24.927584, 67.052105],
                [24.931976, 67.054777],
                [24.936211, 67.057063],
                [24.93615, 67.058978],
                [24.938891, 67.06158],
                [24.941864, 67.062745],
                [24.94413, 67.06779],
                [24.946706, 67.066999],
                [24.964404, 67.044523]
            ], NorthKarachiPath: [
                [24.960505, 67.04905],
                [24.964418, 67.046829],
                [24.980702, 67.046153],
                [24.983253, 67.048909],
                [24.985181, 67.052181],
                [25.005807, 67.05085],
                [25.006841, 67.06458],
                [24.985727, 67.065776],
                [24.986986, 67.091084],
                [24.976743, 67.091319],
                [24.966214, 67.090587],
                [24.964765, 67.066806],
                [24.954085, 67.057698],
                [24.960543, 67.04905]
            ], NazimabadPath: [
                [24.93137, 67.015789],
                [24.928354, 67.020059],
                [24.922735, 67.018123],
                [24.915092, 67.018246],
                [24.908928, 67.018627],
                [24.902919, 67.021583],
                [24.901858, 67.030026],
                [24.901109, 67.036238],
                [24.902384, 67.038416],
                [24.90995, 67.039805],
                [24.909334, 67.049512],
                [24.916033, 67.051619],
                [24.919304, 67.046493],
                [24.923119, 67.031613],
                [24.925308, 67.032338],
                [24.927497, 67.028773],
                [24.928918, 67.024216],
                [24.932596, 67.015668],
                [24.931292, 67.015531]
            ], LiaquatababPath: [
                [24.883341, 67.021919],
                [24.887205, 67.025894],
                [24.888903, 67.028096],
                [24.889589, 67.031157],
                [24.890937, 67.035033],
                [24.89283, 67.038737],
                [24.892723, 67.04357],
                [24.895399, 67.049755],
                [24.897453, 67.055941],
                [24.898538, 67.059183],
                [24.900635, 67.061997],
                [24.906897, 67.064982],
                [24.915808, 67.05139],
                [24.909326, 67.049701],
                [24.909939, 67.040467],
                [24.907717, 67.038673],
                [24.902927, 67.03851],
                [24.901056, 67.036373],
                [24.903273, 67.017538],
                [24.89504, 67.020265],
                [24.88921, 67.020513],
                [24.886061, 67.020637],
                [24.88338, 67.021963]
            ], BinQasimPath: [
                [24.812808, 67.287867],
                [24.808601, 67.308466],
                [24.793876, 67.324087],
                [24.77718, 67.306105],
                [24.763376, 67.320804],
                [24.762977, 67.327263],
                [24.774501, 67.343334],
                [24.774964, 67.354804],
                [24.778232, 67.365929],
                [24.779002, 67.384576],
                [24.78453, 67.385316],
                [24.768513, 67.423109],
                [24.779831, 67.447412],
                [24.845243, 67.440831],
                [24.848663, 67.428286],
                [24.868748, 67.37643],
                [24.859006, 67.342426],
                [24.863376, 67.315592],
                [24.866967, 67.304292],
                [24.86605, 67.299718],
                [24.855604, 67.305113],
                [24.844067, 67.307075],
                [24.844017, 67.295475],
                [24.840721, 67.29534],
                [24.839696, 67.283557],
                [24.813276, 67.287738]
            ], BaldiaPath: [
                [24.899967, 66.969746],
                [24.915935, 66.949833],
                [24.936572, 66.937474],
                [24.973778, 66.912669],
                [24.977595, 66.916231],
                [24.979582, 66.926852],
                [24.996445, 66.944866],
                [25.000715, 66.950869],
                [24.977994, 66.963633],
                [24.972117, 66.952699],
                [24.965463, 66.956845],
                [24.965599, 66.959562],
                [24.957574, 66.961607],
                [24.951625, 66.966042],
                [24.945986, 66.969189],
                [24.94397, 66.971706],
                [24.940491, 66.973695],
                [24.938957, 66.973194],
                [24.938669, 66.975311],
                [24.933252, 66.977593],
                [24.932489, 66.979205],
                [24.931368, 66.976793],
                [24.928006, 66.979278],
                [24.924632, 66.985498],
                [24.920045, 66.992728],
                [24.918083, 66.992631],
                [24.916206, 66.989901],
                [24.916358, 66.989329],
                [24.914877, 66.986619],
                [24.916004, 66.982367],
                [24.912326, 66.979254],
                [24.910272, 66.981259],
                [24.908195, 66.978378],
                [24.909141, 66.977281],
                [24.903269, 66.972569],
                [24.899655, 66.969746]
            ], BahdurabadPath: [
                [24.879707, 67.065252],
                [24.881331, 67.066481],
                [24.882021, 67.065434],
                [24.883927, 67.06684],
                [24.883261, 67.067977],
                [24.88586, 67.069929],
                [24.884928, 67.071688],
                [24.883881, 67.073189],
                [24.882955, 67.072843],
                [24.881941, 67.072044],
                [24.877459, 67.068815],
                [24.879707, 67.065274]
            ], FBAreaPath: [
                [24.906691, 67.063822],
                [24.910661, 67.066646],
                [24.914514, 67.078014],
                [24.924925, 67.080265],
                [24.930208, 67.088515],
                [24.934019, 67.090191],
                [24.939231, 67.089807],
                [24.944986, 67.08595],
                [24.950977, 67.083101],
                [24.95619, 67.084614],
                [24.961245, 67.083776],
                [24.962174, 67.078669],
                [24.957146, 67.076135],
                [24.954792, 67.07463],
                [24.951835, 67.075181],
                [24.949033, 67.071305],
                [24.946349, 67.068575],
                [24.943782, 67.067063],
                [24.942538, 67.06434],
                [24.941841, 67.062154],
                [24.939203, 67.061903],
                [24.938594, 67.060198],
                [24.936288, 67.059193],
                [24.936189, 67.056152],
                [24.93249, 67.054791],
                [24.930228, 67.053013],
                [24.928895, 67.05143],
                [24.926657, 67.050927],
                [24.923038, 67.046744],
                [24.921131, 67.043356],
                [24.915799, 67.039711],
                [24.909844, 67.040358],
                [24.909065, 67.052213],
                [24.908015, 67.062009],
                [24.906964, 67.063994]
            ], GardenPath: [
                [24.887307, 67.032993],
                [24.883064, 67.036619],
                [24.881419, 67.033631],
                [24.878957, 67.030257],
                [24.87774, 67.028814],
                [24.875496, 67.027792],
                [24.873761, 67.022367],
                [24.875541, 67.020867],
                [24.869783, 67.015182],
                [24.870739, 67.012532],
                [24.879355, 67.017387],
                [24.876635, 67.021231],
                [24.879722, 67.023372],
                [24.882263, 67.0262],
                [24.887346, 67.032885]
            ], GulshanPath: [
                [24.991862, 67.136163],
                [24.962569, 67.169229],
                [24.95543, 67.166879],
                [24.9404, 67.160426],
                [24.939617, 67.162928],
                [24.924671, 67.154395],
                [24.924807, 67.151682],
                [24.922453, 67.150686],
                [24.919456, 67.14835],
                [24.914279, 67.144641],
                [24.913306, 67.142992],
                [24.906299, 67.140687],
                [24.902523, 67.137652],
                [24.907408, 67.135834],
                [24.906269, 67.13896],
                [24.919595, 67.144063],
                [24.923727, 67.137795],
                [24.917757, 67.131807],
                [24.919423, 67.129758],
                [24.91611, 67.126137],
                [24.914824, 67.127373],
                [24.914551, 67.126532],
                [24.915562, 67.12579],
                [24.916671, 67.121599],
                [24.914092, 67.117873],
                [24.915566, 67.116525],
                [24.914085, 67.112289],
                [24.908985, 67.115063],
                [24.904596, 67.110156],
                [24.901141, 67.111258],
                [24.896752, 67.099227],
                [24.897396, 67.097067],
                [24.900221, 67.095937],
                [24.903171, 67.09535],
                [24.900359, 67.092618],
                [24.897976, 67.092267],
                [24.898108, 67.082243],
                [24.892958, 67.084312],
                [24.892193, 67.081548],
                [24.896151, 67.079415],
                [24.905993, 67.064766],
                [24.910252, 67.06905],
                [24.913856, 67.078813],
                [24.925399, 67.081366],
                [24.929336, 67.089047],
                [24.93581, 67.091363],
                [24.946603, 67.088142],
                [24.962776, 67.108118],
                [24.991707, 67.136162]
            ], MalirPath: [
                [24.866028, 67.204135],
                [24.875739, 67.193221],
                [24.884253, 67.17506],
                [24.913189, 67.18452],
                [24.913982, 67.188747],
                [24.929096, 67.178899],
                [24.947802, 67.181518],
                [24.986451, 67.194652],
                [24.982433, 67.227312],
                [24.975614, 67.263405],
                [24.964346, 67.260766],
                [24.955878, 67.249201],
                [24.942149, 67.243418],
                [24.934023, 67.232486],
                [24.910919, 67.227101],
                [24.90609, 67.224537],
                [24.900638, 67.226436],
                [24.894404, 67.224398],
                [24.884115, 67.216546],
                [24.882379, 67.211827],
                [24.865982, 67.20445]
            ], ShahFaisalPath: [
                [24.867286, 67.112066],
                [24.868665, 67.123523],
                [24.870824, 67.135324],
                [24.872282, 67.146866],
                [24.872026, 67.157894],
                [24.870213, 67.172312],
                [24.86513, 67.184327],
                [24.866332, 67.203722],
                [24.875891, 67.192466],
                [24.884184, 67.177937],
                [24.887182, 67.162121],
                [24.887222, 67.145103],
                [24.894854, 67.142777],
                [24.895248, 67.136837],
                [24.88716, 67.136031],
                [24.886789, 67.125233],
                [24.883399, 67.127843],
                [24.885419, 67.130917],
                [24.883696, 67.133545],
                [24.876202, 67.131335],
                [24.867908, 67.111895]
            ], SurjaniPath: [
                [25.005476, 67.047919],
                [25.037986, 67.040194],
                [25.081061, 67.040022],
                [25.083237, 67.076071],
                [25.051983, 67.081564],
                [25.007654, 67.084311],
                [25.004854, 67.048777]
            ], TipuSultanPath: [
                [24.887902, 67.086959],
                [24.875039, 67.096287],
                [24.865135, 67.077463],
                [24.859964, 67.059385],
                [24.870572, 67.047519],
                [24.876602, 67.051425],
                [24.874023, 67.056403],
                [24.881634, 67.061982],
                [24.876923, 67.06902],
                [24.882919, 67.074041],
                [24.887279, 67.077453],
                [24.888214, 67.086959]
            ], SaddarPath: [
                [24.833983, 67.024011],
                [24.828668, 67.020005],
                [24.828689, 67.01999],
                [24.82877, 67.019917],
                [24.828816, 67.019901],
                [24.82879, 67.019954],
                [24.828816, 67.019974],
                [24.828635, 67.020056],
                [24.828701, 67.019878],
                [24.837868, 67.011067],
                [24.842961, 67.007135],
                [24.845707, 66.995966],
                [24.84563, 66.992136],
                [24.849525, 66.98925],
                [24.849373, 66.991482],
                [24.852262, 66.993156],
                [24.854108, 66.99629],
                [24.857277, 66.999681],
                [24.86177, 67.00024],
                [24.866891, 66.999385],
                [24.86779, 67.000208],
                [24.865615, 67.000823],
                [24.865509, 67.00257],
                [24.871801, 67.008423],
                [24.876418, 67.013203],
                [24.877063, 67.012575],
                [24.877498, 67.014582],
                [24.879568, 67.017405],
                [24.87679, 67.02084],
                [24.873532, 67.022819],
                [24.871532, 67.021886],
                [24.865235, 67.024867],
                [24.867436, 67.028083],
                [24.86257, 67.030654],
                [24.861679, 67.034335],
                [24.860635, 67.034746],
                [24.857146, 67.033165],
                [24.856709, 67.031676],
                [24.845711, 67.037882],
                [24.84377, 67.041496],
                [24.839498, 67.033619],
                [24.839795, 67.030566],
                [24.835988, 67.026264],
                [24.834002, 67.023947]
            ], GadapPath: [
                [24.988545, 67.089842],
                [25.014098, 67.08304],
                [25.011648, 67.046369],
                [24.990684, 67.047806],
                [24.996694, 67.019171],
                [24.992386, 66.977731],
                [25.035345, 66.953406],
                [25.087605, 67.015745],
                [25.200428, 67.05069],
                [25.24143, 67.11022],
                [25.216275, 67.134149],
                [25.157557, 67.135127],
                [25.124457, 67.103343],
                [25.087695, 67.087452],
                [25.029187, 67.172546],
                [24.986542, 67.263502],
                [24.970816, 67.25422],
                [24.977424, 67.171473],
                [24.953806, 67.161685],
                [24.965497, 67.152157],
                [24.979433, 67.161812],
                [24.994025, 67.135225],
                [24.978604, 67.119185],
                [24.988631, 67.108762],
                [24.9887, 67.090786]
            ], UthalPath: [[25.647674, 66.891084],
                [25.622088, 66.555663],
                [25.537033, 66.450955],
                [25.629521, 66.378869],
                [25.608889, 66.240189],
                [25.561001, 66.142707],
                [25.483345, 66.100158],
                [25.527162, 66.33096],
                [25.46438, 66.51919],
                [25.406528, 66.49868],
                [25.467801, 66.369949],
                [25.46137, 66.192136],
                [25.425176, 66.03355],
                [25.418743, 65.874963],
                [25.390717, 65.748292],
                [25.35772, 65.643592],
                [25.395952, 65.434194],
                [25.387037, 65.296207],
                [25.356521, 65.221721],
                [25.594188, 65.207823],
                [25.608866, 65.305245],
                [25.638492, 65.41438],
                [25.708995, 65.522506],
                [25.551106, 65.540864],
                [25.407597, 65.51159],
                [25.476497, 65.584609],
                [25.51066, 65.734533],
                [25.5002, 65.887203],
                [25.467695, 66.034949],
                [25.709086, 66.185726],
                [25.883973, 66.252875],
                [25.66474, 66.260357],
                [25.847005, 66.341003],
                [25.947912, 66.252236],
                [26.164848, 66.192746],
                [26.174043, 66.30559],
                [26.089539, 66.4459],
                [26.098739, 66.534024],
                [26.22906, 66.652244],
                [26.244907, 66.766285],
                [25.951923, 66.883731],
                [25.658207, 66.9023]
            ], OrangiPath: [[24.953858, 67.024382],
                [24.957669, 67.020068],
                [24.949651, 67.012321],
                [24.95914, 67.001633],
                [24.995232, 66.996392],
                [25.01575, 66.977328],
                [24.995957, 66.953277],
                [24.978772, 66.964398],
                [24.985321, 66.976854],
                [24.958896, 66.978763],
                [24.953702, 66.966747],
                [24.917356, 67.000865],
                [24.931911, 67.014083],
                [24.952924, 67.024725]
            ], JauharPath: [[24.904553, 67.138015],
                [24.913328, 67.140794],
                [24.918727, 67.143128],
                [24.922102, 67.146492],
                [24.939025, 67.159947],
                [24.939559, 67.156474],
                [24.937981, 67.14764],
                [24.935602, 67.134949],
                [24.932524, 67.121915],
                [24.928199, 67.111285],
                [24.915805, 67.118544],
                [24.914991, 67.114737],
                [24.91379, 67.112059],
                [24.909288, 67.114685],
                [24.906704, 67.111911],
                [24.900992, 67.116578],
                [24.902413, 67.118274],
                [24.904514, 67.137843]
            ], LyariPath: [[24.871108, 66.976114],
                [24.878929, 66.993589],
                [24.880913, 67.004172],
                [24.87729, 67.012695],
                [24.876191, 67.013141],
                [24.866051, 67.002703],
                [24.864087, 67.002436],
                [24.859449, 67.000524],
                [24.857091, 66.999654],
                [24.855122, 66.998183],
                [24.851843, 66.9929],
                [24.85341, 66.991918],
                [24.854209, 66.987723],
                [24.858696, 66.986969],
                [24.863184, 66.986731],
                [24.86515, 66.985395],
                [24.871185, 66.976114]
            ], SIMZPath: [[24.871676, 66.975404],
                [24.879696, 66.993085],
                [24.882402, 67.009092],
                [24.880353, 67.014124],
                [24.885001, 67.020701],
                [24.890636, 67.021752],
                [24.907666, 67.01862],
                [24.927623, 67.019499],
                [24.930323, 67.017836],
                [24.923772, 67.009666],
                [24.922599, 67.010645],
                [24.917769, 67.004826],
                [24.919287, 67.003243],
                [24.917067, 66.998741],
                [24.919052, 66.993167],
                [24.914906, 66.986646],
                [24.916025, 66.98257],
                [24.912108, 66.979201],
                [24.910072, 66.98065],
                [24.907808, 66.978413],
                [24.908779, 66.977767],
                [24.899961, 66.96959],
                [24.89524, 66.973227],
                [24.891478, 66.979122],
                [24.889675, 66.974516],
                [24.888462, 66.970025],
                [24.882708, 66.968816],
                [24.877266, 66.964689],
                [24.87191, 66.974631]]
        };

        $scope.DefencePath = $scope.AreaArray.DefencePath;
        $scope.CliftonPath = $scope.AreaArray.CliftonPath;
        $scope.KorangiPath = $scope.AreaArray.KorangiPath;
        $scope.LandhiPath = $scope.AreaArray.LandhiPath;
        $scope.NorthNazimabadPath = $scope.AreaArray.NorthNazimabadPath;
        $scope.NorthKarachiPath = $scope.AreaArray.NorthKarachiPath;
        $scope.NazimabadPath = $scope.AreaArray.NazimabadPath;
        $scope.LiaquatababPath = $scope.AreaArray.LiaquatababPath;
        $scope.BinQasimPath = $scope.AreaArray.BinQasimPath;
        $scope.BaldiaPath = $scope.AreaArray.BaldiaPath;
        $scope.BahdurabadPath = $scope.AreaArray.BahdurabadPath;
        $scope.FBAreaPath = $scope.AreaArray.FBAreaPath;
        $scope.GardenPath = $scope.AreaArray.GardenPath;
        $scope.GulshanPath = $scope.AreaArray.GulshanPath;
        $scope.MalirPath = $scope.AreaArray.MalirPath;
        $scope.ShahFaisalPath = $scope.AreaArray.ShahFaisalPath;
        $scope.SurjaniPath = $scope.AreaArray.SurjaniPath;
        $scope.TipuSultanPath = $scope.AreaArray.TipuSultanPath;
        $scope.SaddarPath = $scope.AreaArray.SaddarPath;
        $scope.GadapPath = $scope.AreaArray.GadapPath;
        $scope.UthalPath = $scope.AreaArray.UthalPath;
        $scope.OrangiPath = $scope.AreaArray.OrangiPath;
        $scope.JauharPath = $scope.AreaArray.JauharPath;
        $scope.LyariPath = $scope.AreaArray.LyariPath;
        $scope.SIMZPath = $scope.AreaArray.SIMZPath;

        NgMap.getMap().then(function (map) {
            vm.map = map;
            defence = map.shapes.defence;
            clifton = map.shapes.clifton;
            korangi = map.shapes.korangi;
            landhi = map.shapes.landhi;
            northNazimabad = map.shapes.northNazimabad;
            northKarachi = map.shapes.northKarachi;
            nazimabad = map.shapes.nazimabad;
            liaquatabab = map.shapes.liaquatabab;
            binQasim = map.shapes.binQasim;
            baldia = map.shapes.baldia;
            bahdurabad = map.shapes.bahdurabad;
            FBArea = map.shapes.FBArea;
            garden = map.shapes.garden;
            gulshan = map.shapes.gulshan;
            malir = map.shapes.malir;
            shahFaisal = map.shapes.shahFaisal;
            surjani = map.shapes.surjani;
            tipuSultan = map.shapes.tipuSultan;
            saddar = map.shapes.saddar;
            gadap = map.shapes.gadap;
            uthal = map.shapes.uthal;
            orangi = map.shapes.orangi;
            jauhar = map.shapes.jauhar;
            lyari = map.shapes.lyari;
            simz = map.shapes.simz;

                  
        });





        vm.getRegionWiseChartDrillDown = function (event, category) {
            var dateFrom = moment($scope.date.startDate).add(5, "hours").toDate();
            var dateTo = moment($scope.date.endDate).add(5, "hours").toDate();
            $scope.items = {
                dateFrom: dateFrom, dateTo: dateTo, category: category
            };
            //$scope.items = { title: "" };

            var modalInstance = $uibModal.open({
                animation: true,
                templateUrl: '/scripts/Views/Shared/_ViewRegionWiseDrillDown.html',
                controller: '_ViewRegionWiseDrillDownController',
                size: 'lg',
                resolve: {
                    items: function () {
                        return $scope.items;
                    }
                }
            });
            modalInstance.result.then(function (selectedItem) {
            }, function () {
            });
        }


        $scope.fetchAreaReport = function () {
            debugger;
     
            var dateFrom = moment($scope.date.startDate).add(5, "hours").toDate();
            var dateTo = moment($scope.date.endDate).add(5, "hours").toDate();
            DashboardService.GetAreaReport(dateFrom, dateTo).then(function (l) {
                if (l != null) {
                    $scope.RegionReportData = l.data;
                    if (l.data.length > 0) {
                        var MaxCount = l.data[0].Total_Inbound;
                        l.data.forEach(function (i) {
                            var percentage = (i.Total_Inbound / MaxCount) * 100;
                            var fillColor = "#0080ff";
                            if (percentage > 30 && percentage <= 80) {
                                fillColor = "#ff9000";
                            }
                            else if (percentage > 80) {
                                fillColor = "#FF0000";
                            }
                            if (i.Region == "Korangi") {
                                korangi.set('fillColor', fillColor)
                                korangi.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Jauhar-II") {
                                jauhar.set('fillColor', "#FF0000")
                                jauhar.set('strokeColor', "#FF0000")
                            }
                            if (i.Region == "Gadap") {
                                gadap.set('fillColor', fillColor)
                                gadap.set('strokeColor', fillColor)
                            }
                            if (i.Region == "N.Nazimabad") {
                                northNazimabad.set('fillColor', fillColor)
                                northNazimabad.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Defence") {
                                defence.set('fillColor', fillColor)
                                defence.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Surjani") {
                                surjani.set('fillColor', fillColor)
                                surjani.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Garden") {
                                garden.set('fillColor', fillColor)
                                garden.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Liaqatabad") {
                                liaquatabab.set('fillColor', fillColor)
                                liaquatabab.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Landhi") {
                                landhi.set('fillColor', fillColor)
                                landhi.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Shah Faisal") {
                                shahFaisal.set('fillColor', fillColor)
                                shahFaisal.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Jauhar-I") {
                             //   jauhar.set('fillColor', fillColor)
                           //     jauhar.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Tipu Sultan") {
                                tipuSultan.set('fillColor', fillColor)
                                tipuSultan.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Clifton") {
                                korangi.set('fillColor', fillColor)
                                korangi.set('strokeColor', fillColor)
                            }
                            if (i.Region == "KIMZ") {
                                //  KIMZ.set('fillColor', fillColor)
                                //  KIMZ.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Liyar-II") {
                                lyari.set('fillColor', fillColor)
                                lyari.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Gulshan") {
                                gulshan.set('fillColor', fillColor)
                                gulshan.set('strokeColor', fillColor)
                            }
                            if (i.Region == "F.B. Area") {
                                FBArea.set('fillColor', fillColor)
                                FBArea.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Liyar-I") {
                                lyari.set('fillColor', fillColor)
                                lyari.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Malir") {
                                malir.set('fillColor', fillColor)
                                malir.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Bin Qasim") {
                                binQasim.set('fillColor', fillColor)
                                binQasim.set('strokeColor', fillColor)
                            }
                            if (i.Region == "North Karachi") {
                                northKarachi.set('fillColor', fillColor)
                                northKarachi.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Nazimabad") {
                                nazimabad.set('fillColor', fillColor)
                                nazimabad.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Bahadurabad") {
                                bahdurabad.set('fillColor', fillColor)
                                bahdurabad.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Baldia") {
                                baldia.set('fillColor', fillColor)
                                baldia.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Orangi-II") {
                                orangi.set('fillColor', fillColor)
                                orangi.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Saddar") {
                                saddar.set('fillColor', fillColor)
                                saddar.set('strokeColor', fillColor)
                            }
                            if (i.Region == "SIMZ") {
                                simz.set('fillColor', fillColor)
                                simz.set('strokeColor', fillColor)
                            }
                            if (i.Region == "Orangi-I") {
                                orangi.set('fillColor', fillColor)
                                orangi.set('strokeColor', fillColor)
                            }
                        });

                    }
                }
            }, function (err) {
            });
        };
        $scope.fetchAreaReport();
    }]);