<div class="tab-pane fade active show position-relative" id="Focused" role="tabpanel" aria-labelledby="focused-tab">

  <div class="tab-content" id="myTabContent">
    <ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="square-jelly-box" [fullScreen]="false">
      <p style="color: white"> Loading... </p>
    </ngx-spinner>
    <div class="filter-toolbar p-0 border-0 collapse show" id="filter-bar">
      <ul class="list-inline pt-3 pb-1 m-0 d-flex align-items-center">
        <li class="list-inline-item">
          <div class="dropdown">
            <button class="btn dropdown-toggle fw-bold" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown"
              (click)="getCustomers()" aria-expanded="false">
              <i class="fal fa-user"></i> From
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
              <li class="dropdown-listing-header">
                <form class="custom-searchbar my-2 mx-0">
                  <input class="form-control bg-light border-0 py-2" placeholder="Search" aria-label="Search"
                    [(ngModel)]="searchUser"
                    (ngModelChange)="(searchUser.length >= 3 || searchUser.length === 0) && getCustomers()">
                  <span class="btn searchbar-btn" type="submit">
                    <i class="fal fa-search silver"></i>
                  </span>
                </form>
              </li>
              <div class="perfect-scrollbar dd-scroll" data-scrollbar="true" tabindex="-1"
                style="overflow: auto; outline: none;">
                <div class="scroll-content">

                  <li>
                    <a class="dropdown-item d-flex contact-user" *ngFor="let customer of customersList"
                      (click)="getConversationListByCustomer(customer.fromId)">
                      <div class="list-down-icon avatar medium me-3">
                        <!-- <img [src]="customer.fromProfilePic"> -->
                        <app-avatar-photo [photoUrl]="customer.fromProfilePic"
                          [name]="customer.fromName"></app-avatar-photo>
                      </div>
                      <div class="w-100 list-txt d-flex">
                        <div class="w-100">
                          <h6 class="mb-1 darkblue">{{customer.fromName}}
                          </h6>
                          <p class="mb-1 coal">{{customer.fromId}}</p>
                        </div>


                      </div>
                    </a>
                  </li>
                </div>
                <div class="scrollbar-track scrollbar-track-x" style="display: none;">
                  <div class="scrollbar-thumb scrollbar-thumb-x"></div>
                </div>
                <div class="scrollbar-track scrollbar-track-y" style="display: none;">
                  <div class="scrollbar-thumb scrollbar-thumb-y"></div>
                </div>
              </div>
            </ul>
          </div>
        </li>
        <li class="list-inline-item">
          <div class="dropdown">
            <button class="btn dropdown-toggle fw-bold" [ngClass]="anyTimeDropdown?'show':''" type="button"
              id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fal fa-calendar"></i> Any Time
            </button>
            <ul class="dropdown-menu assignFirstDropdownList1" [ngClass]="anyTimeDropdown?'show':''"
              aria-labelledby="dropdownMenuButton1">

              <li class="dropdown-item" (click)="anyTime('Any Time')">
                <a>Any Time</a>
              </li>
              <li class="dropdown-item" (click)="anyTime('Older then a week')">
                <a>Older then a week</a>
              </li>
              <li class="dropdown-item" (click)="anyTime('Older then a month')">
                <a>Older then a month</a>
              </li>
              <li class="dropdown-item" (click)="anyTime('Older then a 6 months')">

                <a> Older then a 6 months</a>
              </li>
              <li class="dropdown-item" (click)="anyTime('Older then a year')">
                <a>Older then a year</a>
              </li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li class="dropdown-item" id="customrange" (click)="ShowDateRange()">
                <a>Custom Range</a>
              </li>
            </ul>
            <div class="dropdown-menu assignSecondDropdownList1" [ngClass]="showDateRange?'show':''"
              aria-labelledby="customrange">
              <header class="d-flex align-items-center justify-content-between my-2">
                <h6 class="m-0">Date Range </h6>
                <div class="d-flex align-items-center" (click)="CloseDateRange()">
                  <span class="iconButton small iconHover closefilter lightGreyBg">
                    <i class="fa-light fa-xmark"></i>
                  </span>
                </div>
              </header>
              <form class="px-3 py-3" [formGroup]="searchForm" (ngSubmit)="getConversationList()">
                <div class="d-flex mb-3">
                  <div class="form-floating">
                    <input type="date" class="form-control border-end-0 rounded-0" id="start-date"
                      placeholder="Start Date" formControlName="fromDate">
                    <label for="start-date">Start Date </label>
                  </div>
                  <div class="form-floating">
                    <input type="date" class="form-control rounded-0" id="end-date" placeholder="End Date"
                      formControlName="toDate">
                    <label for="end-date">End Date</label>
                  </div>
                </div>

                <div class="text-end">
                  <button type="submit" class="btn skyBg btn-small">Apply</button>
                </div>
              </form>

            </div>
          </div>
        </li>
        <li class="list-inline-item" *ngIf="isAttachment == false">
          <Button class="btn toggle-check-btn fw-bold" (click)="hasAttachment(true)">
            <i class="fal fa-paperclip"></i> Has Attachment</Button>
        </li>
        <li class="list-inline-item" *ngIf="isAttachment == true">
          <Button class="btn toggle-btn-checked fw-bold" (click)="hasAttachment(false)">
            <i class="fal fa-tick"></i> Has Attachment</Button>
        </li>

        <!-- Testinggggggggggggggggggggggggggggggggggggggggg -->

        <!-- <li class="list-inline-item">
          <input type="button" class="btn-check" id="btn-download-report" autocomplete="off">
          <label class="btn toggle-check-btn fw-bold" for="btn-download-report" (click)="download()">
            <i class="fal fa-paperclip"></i> Download .Csv</label>
        </li> -->

        <!-- Testinggggggggggggggggggggggggggggggggggggggggg -->


        <!-- <li>
                </li>
                <li class="list-inline-item">
                  <div class="dropdown">
                    <button class="btn dropdown-toggle fw-bold" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                      <i class="fal fa-paper-plane"></i> To
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                      <li class="dropdown-listing-header">
                        <form class="custom-searchbar my-2 mx-0">
                          <input class="form-control bg-light border-0 py-2" placeholder="Search" aria-label="Search">
                          <span class="btn searchbar-btn" type="submit">
                            <i class="fal fa-search silver"></i>
                          </span>
                        </form>
                      </li>
                      <div class="perfect-scrollbar dd-scroll" data-scrollbar="true" tabindex="-1" style="overflow: auto; outline: none;"><div class="scroll-content">
                        <li>
                          <a class="dropdown-item d-flex contact-user" href="#">

                            <div class="list-down-icon">
                              <div class="iconButton medium mintBg me-3">
                                AK
                              </div>
                            </div>
                            <div class="w-100 list-txt d-flex">
                              <div class="w-100">
                                <h6 class="mb-1 darkblue">Amin Khan
                                </h6>
                                <p class="mb-1 coal">amin.khan@gmail.com</p>
                              </div>

                            </div>
                          </a></li>
                        <li>
                          <a class="dropdown-item d-flex contact-user" value="Aniqa Khan">
                            <div class="list-down-icon avatar medium me-3">
                              <img src="../../../../../assets/images/avatar-18.png" alt="...">
                            </div>
                            <div class="w-100 list-txt d-flex">
                              <div class="w-100">
                                <h6 class="mb-1 darkblue">Aniqa Khan
                                </h6>
                                <p class="mb-1 coal">aniqa@gmail.com</p>
                              </div>


                            </div>
                          </a>
                          <a class="dropdown-item d-flex contact-user" value="Bilal Ali">
                            <div class="list-down-icon">
                              <div class="iconButton medium berryBg me-3">
                                BA
                              </div>
                            </div>
                            <div class="w-100 list-txt d-flex">
                              <div class="w-100">
                                <h6 class="mb-1 darkblue">Bilal Ali
                                </h6>
                                <p class="mb-1 coal">bilal.ali@gmail.com</p>
                              </div>


                            </div>
                          </a>
                          <a class="dropdown-item d-flex contact-user" value="Aniqa Khan">
                            <div class="list-down-icon avatar medium me-3">
                              <img src="../../../../../assets/images/avatar-18.png" alt="...">
                            </div>
                            <div class="w-100 list-txt d-flex">
                              <div class="w-100">
                                <h6 class="mb-1 darkblue">Ayesha Khan
                                </h6>
                                <p class="mb-1 coal">ayesha@gmail.com</p>
                              </div>


                            </div>
                          </a>
                          <a class="dropdown-item d-flex contact-user" value="Jawad Khan">
                            <div class="list-down-icon avatar medium me-3">
                              <img src="../../../../../assets/images/avatar-16.jpg" alt="...">
                            </div>
                            <div class="w-100 list-txt d-flex">
                              <div class="w-100">
                                <h6 class="mb-1 darkblue">Jawad Khan
                                </h6>
                                <p class="mb-1 coal">jawadkhan@gmail.com</p>
                              </div>


                            </div>
                          </a>
                          <a class="dropdown-item d-flex contact-user" value="Sana Khan">
                            <div class="list-down-icon">
                              <div class="iconButton medium mintBg me-3">
                                SK
                              </div>
                            </div>
                            <div class="w-100 list-txt d-flex">
                              <div class="w-100">
                                <h6 class="mb-1 darkblue">Sana Khan
                                </h6>
                                <p class="mb-1 coal">sana.khan@gmail.com</p>
                              </div>


                            </div>
                          </a>
                          <a class="dropdown-item d-flex contact-user" value="Tabish Ali">
                            <div class="list-down-icon">
                              <div class="iconButton medium cherryBg me-3">
                                TA
                              </div>
                            </div>
                            <div class="w-100 list-txt d-flex">
                              <div class="w-100">
                                <h6 class="mb-1 darkblue">Tabish Ali
                                </h6>
                                <p class="mb-1 coal">tabish.ali@gmail.com</p>
                              </div>


                            </div>
                          </a>
                          <a class="dropdown-item d-flex contact-user" value="Talha Iqbal">
                            <div class="list-down-icon avatar medium me-3">
                              <img src="../../../../../assets/images/avatar-3.jpg" alt="...">
                            </div>
                            <div class="w-100 list-txt d-flex">
                              <div class="w-100">
                                <h6 class="mb-1 darkblue">Talha Iqbal
                                </h6>
                                <p class="mb-1 coal">talhaiqbal@gmail.com</p>
                              </div>


                            </div>
                          </a>
                          <a class="dropdown-item d-flex contact-user" value="Umair Khan">
                            <div class="list-down-icon avatar medium me-3">
                              <img src="../../../../../assets/images/avatar-2.jpg" alt="...">
                            </div>
                            <div class="w-100 list-txt d-flex">
                              <div class="w-100">
                                <h6 class="mb-1 darkblue">Umair Khan
                                </h6>
                                <p class="mb-1 coal">umairkhan@gmail.com</p>
                              </div>


                            </div>
                          </a>
                        </li>
                      </div><div class="scrollbar-track scrollbar-track-x" style="display: none;"><div class="scrollbar-thumb scrollbar-thumb-x"></div></div><div class="scrollbar-track scrollbar-track-y" style="display: none;"><div class="scrollbar-thumb scrollbar-thumb-y"></div></div></div>
                    </ul>
                  </div>
                </li> -->
        <li class="list-inline-item">
          <a class="advance-search-o fw-bold sky btn" (click)="AdvanceSearch()">Advance Search</a>
        </li>
        <li>
        </li>
      </ul>
      <form [formGroup]="searchForm" (ngSubmit)="getConversationList()">
        <div class="search-filters" [ngClass]="advanceSearch?'active':''">
          <header class="d-flex align-items-center justify-content-between my-2">
            <h6 class="m-0">Filter Search </h6>
            <div class="d-flex align-items-center">
              <span class="iconButton small iconHover me-2" (click)="ResetSearchForm()">
                <i class="fa-light fa-arrows-rotate"></i>
              </span>
              <span class="iconButton small iconHover closefilter lightGreyBg" (click)="CloseAdvanceSearch()">
                <i class="fa-light fa-xmark"></i>
              </span>
            </div>


          </header>
          <div class="search-body">
            <div class="row">
              <div class="col-6">
                <div class="form-floating mb-3">
                  <input class="form-control" id="from" [(ngModel)]="userName" formControlName="userName"
                    placeholder="From">
                  <label for="from">From</label>
                </div>
              </div>
              <div class="col-6">
                <div class="form-floating mb-3">
                  <input class="form-control" id="email" [(ngModel)]="user" formControlName="user" placeholder="Email">
                  <label for="email">Email</label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-6">
                <div class="form-floating mb-3">
                  <input class="form-control" type="text" id="Subject" placeholder="Subject" [(ngModel)]="text"
                    formControlName="text">
                  <label for="Subject">Subject</label>
                </div>
              </div>
              <div class="col-6">
                <div class="form-floating mb-3">
                  <input class="form-control" type="text" id="incwords" placeholder="Includes the words"
                    [(ngModel)]="include" formControlName="include">
                  <label for="incwords">Includes the words</label>
                </div>
              </div>
            </div>
            <div class="form-floating mb-3">
              <input class="form-control" type="text" id="ddh" placeholder="Doesn't have" [(ngModel)]="notInclude"
                formControlName="notInclude">
              <label for="ddh">Doesn't have</label>
            </div>
            <!-- <div class="mb-3 d-none">
              <div class="heading">Size</div>
              <div class="row">

                <div class="col-5">
                  <select class="form-control">
                    <option selected="">greater then</option>
                    <option value="1">less then</option>
                  </select>
                </div>
                <div class="col-4">
                  <input class="form-control" id="11" placeholder="">
                </div>
                <div class="col-3">
                  <select class="form-control" id="fs1" aria-label="">
                    <option selected="">Mb</option>
                    <option value="1">KB </option>
                    <option value="1">Bytes </option>
                  </select>
                </div>
              </div>
            </div> -->

            <div class="mb-3">
              <div class="heading">Date within</div>
              <div class="row">

                <div class="col-5">
                  <select class="form-control" formControlName="dateWithin">
                    <option disabled value="">Date Within</option>
                    <option value="1 day">1 day</option>
                    <option value="3 days">3 days</option>
                    <option value="1 week">1 week</option>
                    <option value="2 weeks">2 weeks</option>
                    <option value="1 month">1 month</option>
                    <option value="2 months">2 months</option>
                    <option value="6 months">6 months</option>
                    <option value="1 year">1 year</option>
                  </select>
                </div>
                <div class="col-7">
                  <input type="date" class="form-control" placeholder="Select Date" formControlName="fromDate">
                </div>

              </div>
            </div>

            <!-- <div class="form-floating mb-3">
              <select class="form-select" id="floatingSelect" aria-label="Search">
                <option selected="">All Mail</option>
                <option value="1">Inbox</option>
                <option value="2">Starred</option>
                <option value="3">Sent Mail</option>
                <option value="4">Drafts</option>
                <option value="5">Charts</option>
                <option value="6">Spam</option>
                <option value="7">Trash</option>
              </select>
              <label for="floatingSelect">Search</label>
            </div> -->
            <div class="mb-3">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="hasattachment" formControlName="isAttachment"
                  (click)="isAttachmentChecked()">
                <label class="form-check-label" for="hasattachment">Has attachment</label>
              </div>
              <!-- <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="dontinccharts" value="option2">
                <label class="form-check-label" for="dontinccharts">Don't include chats</label>
              </div> -->
            </div>
          </div>

          <footer class="py-3">
            <div class="buttons-wrap d-flex justify-content-end">
              <button type="button" class="btn btn-outline-secondary closefilter"
                (click)="CloseAdvanceSearch()">Cancel</button>
              <button type="submit" class="btn btn-success ms-2 px-4">Apply</button>
            </div>
          </footer>
        </div>
      </form>

    </div>
    <div class="filter-container">
      <ul class="list-group list-group-horizontal border-0">
        <li class="list-group-item border-0 all-check-boxes">
          <input *ngIf="flag != 'sent'" class="form-check-input me-1" type="checkbox" aria-label="..."
            data-bs-toggle="tooltip" data-bs-placement="bottom" title="" data-bs-original-title="Check All"
            [checked]="masterSelected" value="m1" (change)="checkUncheckAll($event)">
          <div class="dropdown">
            <!-- <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton1"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-sort-down"></i>
                        </button> -->
            <!-- <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <li>
                                <a class="dropdown-item">All</a>
                            </li>
                            <li>
                                <a class="dropdown-item">Read</a>
                            </li>
                            <li>
                                <a class="dropdown-item">alert alert-light</a>
                            </li>
                            <li>
                                <a class="dropdown-item">Starred</a>
                            </li>
                            <li>
                                <a class="dropdown-item">Unstarred</a>
                            </li>
                        </ul> -->
          </div>
        </li>
        <li class="list-group-item filtericon skyBg border-0 iconButton medium iconHover" data-bs-toggle="collapse"
          data-bs-target="#filter-bar" aria-expanded="true" aria-controls="filter-bar" aria-label="..."
          data-bs-placement="bottom" title="Filters">
          <i class="fal fa-sliders-h"></i>
        </li>
        <li class="list-group-item border-0" (click)="Reload()" aria-label="..." data-bs-toggle="tooltip"
          data-bs-placement="bottom" title="" data-bs-original-title="Refresh">
          <i class="fal fa-redo-alt"></i>
        </li>
        <!-- <div [hidden]="flag == 'trash'"> -->

          <li class="list-group-item border-0 after-select-fun" [hidden]="flag == 'trash' || flag == 'archived'" (click)="Archive()"
            aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
            data-bs-original-title="Archive" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
            <i class="fal fa-archive"></i>
          </li>
          <li class="list-group-item border-0 after-select-fun" [hidden]="flag == 'trash' || flag != 'archived'" (click)="Unarchive()"
            aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
            data-bs-original-title="Unarchive" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
            <i class="fal fa-inbox-out"></i>
          </li>
          <!-- <li class="list-group-item border-0 after-select-fun" [hidden]="flag == 'trash' || flag == 'spam'" (click)="Spam()" aria-label="..."
            data-bs-toggle="tooltip" data-bs-placement="bottom" title="" data-bs-original-title="Report Spam"
            [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
            <i class="fal fa-exclamation-circle"></i>
          </li>
          <li class="list-group-item border-0 after-select-fun" [hidden]="flag == 'trash' || flag != 'spam'" (click)="RemoveSpam()"
            aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
            data-bs-original-title="Undo Spam" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
            <i class="fal fa-rotate-exclamation"></i>
          </li> -->
          <li class="list-group-item border-top-0 border-bottom-0 border-start-0 after-select-fun" (click)="Delete()"
          [hidden]="flag == 'trash'"
            aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
            data-bs-original-title="Delete" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
            <i class="fal fa-trash"></i>
          </li>
          <li class="list-group-item border-top-0 border-bottom-0 border-start-0 after-select-fun" [hidden]="flag != 'trash'"
            (click)="UndoDelete()" aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
            data-bs-original-title="Undo Delete" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
            <i class="fal fa-trash-slash"></i>
          </li>
          <!-- <li class="list-group-item border-0 after-select-fun" aria-label="..." data-bs-toggle="tooltip"
          data-bs-placement="bottom" title="" data-bs-original-title="Mark as Read"
          [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
          <i class="far fa-envelope-open"></i>
        </li> -->
          <!-- <li class="list-group-item border-0 after-select-fun" [hidden]="flag == 'trash' || flag == 'snoozed'" (click)="Snooze()"
            aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
            data-bs-original-title="Snooze" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
            <i class="fal fa-clock"></i>
          </li> -->
          <li class="list-group-item border-0 after-select-fun" [hidden]="flag == 'trash' || flag != 'snoozed'" (click)="RemoveSnooze()"
            aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
            data-bs-original-title="Remove Snooze" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
            <i class="fal fa-trash-can-clock"></i>
          </li>
          <!-- <li class="list-group-item border-top-0 border-bottom-0 border-start-0 after-select-fun"
                    aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
                    data-bs-original-title="Add to task" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
                    <i class="fal fa-clipboard-check"></i>
                </li>
                <li class="list-group-item border-0 after-select-fun" aria-label="..." data-bs-toggle="tooltip"
                    data-bs-placement="bottom" title="" data-bs-original-title="Move to" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
                    <i class="fal fa-share-square"></i>
                </li>

                <li class="list-group-item border-0 after-select-fun" aria-label="..." data-bs-toggle="tooltip"
                    data-bs-placement="bottom" title="" data-bs-original-title="Labels"
                    [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
                    <i class="fal fa-tags"></i>
                </li> -->

          <li class="list-group-item border-0 after-select-fun" aria-label="..." data-bs-toggle="tooltip"
            data-bs-placement="bottom" title="" data-bs-original-title="More" [hidden]="flag == 'trash'"
            [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
            <div class="dropdown w-auto">
              <button class="btn p-0" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown"
                aria-expanded="false">
                <i class="fal fa-ellipsis-v-alt"></i>
              </button>
              <ul class="dropdown-menu custom-dropdown" aria-labelledby="dropdownMenuButton1">
                <!-- <li>
                                <a class="dropdown-item" href="#">Mark as read </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">Mark as unread</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">Mark as important</a>
                            </li> -->
                <li [hidden]="flag == 'starred'">
                  <a class="dropdown-item" (click)="Starred()">Add star</a>
                </li>
                <li [hidden]="flag != 'starred'">
                  <a class="dropdown-item" (click)="RemoveStarred()">Remove star</a>
                </li>
                <li [hidden]="flag != 'blacklist'">
                  <a class="dropdown-item" (click)="Unblock()">Unblock User(s)</a>
                </li>
                <!-- <li>
                                <a class="dropdown-item" href="#">Filter Messages like these</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">Mute</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#">Forward as Attachment</a>
                            </li> -->

              </ul>
            </div>
          </li>
        <!-- </div> -->
        
      </ul>
      <!-- <div class="selected-row" [ngStyle]="{'display': isChecked==true  ? 'block' : 'none'}">
        Selected <span class="badge twltte-bg rounded-pill">{{Ids.length}}</span>
      </div> -->
      <div class="pagination-bar">
        <span>{{to}}-{{from}} of {{TotalUnresponded}}</span>
        <span style="cursor: pointer;">
          <i class="fal fa-chevron-left" (click)="PreviousPage(pageNumber)"></i>
        </span>
        <span style="cursor: pointer;">
          <i class="fal fa-chevron-right" (click)="NextPage(pageNumber)"></i>
        </span>
      </div>
    </div>
    <div class="query-container perfect-scrollbar" data-scrollbar="true" tabindex="-1"
      style="overflow-y: auto; outline: none;">
      <div class="scroll-content" style="transform: translate3d(0px, 0px, 0px);">
        <div class="alert alert-secondary text-center email-info-alert" role="alert"
          [ngStyle]="{'display': isCheckedAll==true  ? 'block' : 'none'}">
          All <strong>{{Ids.length}}</strong> conversations on this page are selected.
          <a class="all-conversation" *ngIf="ConversationList != null">Select all
            <strong> {{TotalUnresponded}}</strong>
            conversations in Focused</a>
          <a class="clear-selection" style="display: none;">Clear selection</a>
        </div>

        <table class="table">
          <tbody>
            <ng-container *ngFor="let group of groupByDateList">
              <tr>
                <td colspan="6">
                  <span class="email-date"></span>{{group.createdDate | date:'EEEE, MMMM dd, yyyy'}}
                </td>
              </tr>
              <!-- [ngClass]="[alertWarning == true?'alert-warning':'', alertDanger == true?'alert-danger':'']" -->
              <tr *ngFor="let query of group.items | sort:criteria; let i = index"
                [class.selected]="query.isChecked==true" class="alert" [ngClass]="[query.slaFlag == 'warning'?'alert-warning':'' || query.slaFlag == 'danger'?'alert-danger':'' ||
              query.slaFlag == 'unread'?'unread':'']">
                <td *ngIf="flag != 'sent'" style="width: 40px;"><input [checked]="query.isChecked"
                    value="{{query.id}}" (change)="isAllSelected($event, i, query.platform, query.profileId, group.createdDate)"
                    class="form-check-input me-1" type="checkbox" aria-label="...">
                </td>
                <td style="width: 40px;">
                  <i *ngIf="query.platform == 'Facebook'" class="fab fa-facebook navytext" data-bs-toggle="tooltip"
                    data-bs-placement="bottom" title="" data-bs-original-title="Facebook" aria-label="Facebook"></i>
                  <i *ngIf="query.platform == 'Instagram'" data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
                    data-bs-original-title="Instagram" aria-label="Instagram" class="fab fa-instagram"></i>
                  <i *ngIf="query.platform == 'Email' || query.platform == 'OfficeEmail'"
                    class="fal fa-envelope cherry" data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
                    data-bs-original-title="Email" aria-label="Email"></i>
                  <i *ngIf="query.platform == 'Youtube'" class="fab fa-youtube warning" data-bs-toggle="tooltip"
                    data-bs-placement="bottom" title="" data-bs-original-title="Youtube" aria-label="Youtube"></i>
                  <i *ngIf="query.platform == 'Twitter'" class="fab fa-twitter sky" data-bs-toggle="tooltip"
                    data-bs-placement="bottom" title="" data-bs-original-title="Twitter" aria-label="Twitter"></i>
                  <i *ngIf="query.platform == 'SMS'" class="fal fa-comment-alt-lines berry" data-bs-toggle="tooltip"
                    data-bs-placement="bottom" data-bs-original-title="SMS" aria-label="SMS"></i>
                  <i *ngIf="query.platform == 'WhatsApp'" class="fab fa-whatsapp emerald" data-bs-toggle="tooltip"
                    data-bs-placement="bottom" data-bs-original-title="WhatsApp" aria-label="Whatsapp"></i>
                  <i *ngIf="query.platform == 'Webchat'" class="fal fa-messages webchat" data-bs-toggle="tooltip"
                    data-bs-placement="bottom" data-bs-original-title="Webchat" aria-label="Webchat"></i>
                  <i *ngIf="query.platform == 'LinkedIn'" class="fa-brands fa-linkedin-in linkedinTxt"
                    data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="LinkedIn"
                    aria-label="LinkedIn">
                  </i>
                </td>
                <td style="width: 300px;">
                  <span class="emailer-name" aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom">
                    <a
                      (click)="updatevalue('socialHeader', query.user, query.postType, query.userId,'assignToMe', query.platform, query.profileId)">
                      <span>{{query.userName.split('<')[0] || query.user}} </span>
                          <span class="badge bg-danger rounded-pill"
                            *ngIf="query.unrespondedCount > 0">{{query.unrespondedCount}}</span></a>
                  </span>

                </td>
                <td>
                  <div class="maintext"
                    (click)="updatevalue('socialHeader', query.user, query.postType, query.userId,'assignToMe', query.platform, query.profileId)">
                    {{query.message < 110 ? query.message: (query.message | slice:0:110) +'...'}} </div>
                </td>
                <td class="px-1">
                  <small>{{query.createdDate | date:'h:mm:ss a'}}</small>
                </td>

                <!-- <td>
                        <div class="dropdown bookmark-dropdown">
  
                          <button class="btn" type="button" id="drop2" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-bookmark mint"></i>
                          </button>
  
                          <ul class="dropdown-menu dropdown-menu-start p-0 custom-dropdown large shadow mt-2 assignSecondDropdownList" aria-labelledby="drop2">
                            <div>
                              <ul class="dropdown-listing h-auto">
                                <li class="dropdown-listing-header">
                                  <div class="head-section p-3">
                                    <div class="left">
                                      <a href="#" class="dropdown-item p-1 active dropdownBackBtn iconButton dropdown-iconBtn small active">
                                        <i class="fal fa-arrow-left silver"></i>
                                      </a>
                                      <h6>Assign to</h6>
                                    </div>
                                    <a href="#" class="iconButton dropdown-iconBtn small active dropdownCrossBtn" id="dropdownMenuButton3" data-bs-toggle="dropdown" aria-expanded="false">
                                      <i class="fal fa-times silver"></i>
                                    </a>
                                  </div>
                                  <form class="custom-searchbar my-2 mx-0">
                                    <input class="form-control bg-light border-0 py-2" placeholder="Search" aria-label="Search">
                                    <span class="btn searchbar-btn" type="submit">
                                      <i class="fal fa-search silver"></i>
                                    </span>
                                  </form>
                                </li>
                                <li class="list-body small-list h-auto">
                                  <div class="list-group list-group-flush">
  
                                    <a class="list-group-item d-flex level1Btn">
                                      <div class="form-check w-100 p-0 theme-check">
                                        <input class="form-check-input float-end" type="checkbox" id="gridCheck2">
                                        <label class="form-check-label coal d-flex align-items-center" for="gridCheck2">
                                          <i class="fas fa-bookmark mint mx-2"></i>SA IT Procurement
                                        </label>
                                      </div>
                                    </a>
                                    <a class="list-group-item d-flex level1Btn">
                                      <div class="form-check w-100 p-0 theme-check">
                                        <input class="form-check-input float-end" type="checkbox" id="gridCheck2">
                                        <label class="form-check-label coal d-flex align-items-center" for="gridCheck2">
                                          <i class="fas fa-bookmark radical mx-2"></i>Technical Support
                                        </label>
                                      </div>
                                    </a>
                                    <a class="list-group-item d-flex level1Btn">
                                      <div class="form-check w-100 p-0 theme-check">
                                        <input class="form-check-input float-end" type="checkbox" id="gridCheck3">
                                        <label class="form-check-label coal d-flex align-items-center" for="gridCheck3">
                                          <i class="fas fa-bookmark rose mx-2"></i>Videographer
                                        </label>
                                      </div>
                                    </a>
                                    <a class="list-group-item d-flex level1Btn">
                                      <div class="form-check w-100 p-0 theme-check">
                                        <input class="form-check-input float-end" type="checkbox" id="gridCheck3">
                                        <label class="form-check-label coal d-flex align-items-center" for="gridCheck3">
                                          <i class="fas fa-bookmark sun mx-2"></i> Hr Executive
                                        </label>
                                      </div>
                                    </a>
                                    <a class="list-group-item d-flex level1Btn">
                                      <div class="form-check w-100 p-0 theme-check">
                                        <input class="form-check-input float-end" type="checkbox" id="gridCheck3">
                                        <label class="form-check-label coal d-flex align-items-center" for="gridCheck3">
                                          <i class="fas fa-bookmark navy mx-2"></i> Dari Speakers
                                        </label>
                                      </div>
                                    </a>
                                  </div>
                                </li>
                                <li class="card-footer position-relative">
                                  <div class="dropdown-item">
                                    <button type="button" class="btn btn-success">Assign</button>
                                  </div>
                                </li>
                              </ul>
                            </div>
                          </ul>
                        </div>
                      </td> -->

                <!-- <td class="more-action-container">
                <span class="more-action-btns">
                  <a href="#" class="px-2" data-bs-toggle="tooltip" data-bs-placement="bottom" tabindex="1"
                    aria-label="Snooze">
                    <i class="fal fa-clock coal"></i>
                  </a>
                  <a href="#" class="px-2" data-bs-toggle="tooltip" data-bs-placement="bottom" tabindex="2"
                    aria-label="archive">
                    <i class="far fa-archive coal"></i>
                  </a>
                  <a href="#" class="px-2" data-bs-toggle="tooltip" data-bs-placement="bottom" tabindex="3"
                    id="deleteToast" aria-label="Delete">
                    <i class="fal fa-trash coal"></i>
                  </a>
                </span>
              </td> -->
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="position-fixed toast-bar border-0 shadow-sm rounded navyBg" style="z-index: 60">
  <div [ngClass]="toastermessage == true ? 'show' : 'hide'" class="toast border-0 p-2 h-100 navyBg fade" role="alert"
    aria-live="assertive" aria-atomic="true">
    <div class="d-flex border-0 justify-content-between align-items-center w-100 h-100">
      <p class="toast-line-para ice m-0">{{AlterMsg}}</p>
      <div class="toast-btn d-flex align-items-center">

        <button type="button" class="btn m-0 ms-2" aria-label="Close" data-bs-dismiss="toast"
          (click)="closeToaster()"><i class="fal fa-times"></i></button>

      </div>
    </div>
  </div>
</div>